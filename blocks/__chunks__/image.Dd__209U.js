import{r as m,j as e}from"./client.Dzuxdzeo.js";const b=({breakpoints:l=[],lazy:d=!1,preload:p=!1,pictureEl:i,ext:h="webp"})=>{const[n,u]=m.useState([]);if(!i)return null;const t=i.querySelector("img"),o=t==null?void 0:t.getAttribute("src");if(!o)return null;const x=(t==null?void 0:t.getAttribute("alt"))||"",g=(t==null?void 0:t.getAttribute("width"))||0,f=(t==null?void 0:t.getAttribute("height"))||0,j=new URL(o,window.location.href),{pathname:a}=j,c=`${a.substring(0,a.lastIndexOf("."))}.${h}?width=2048&amp;format=jpeg&amp;optimize=medium`;return m.useEffect(()=>{u(l.map(s=>({type:"image/webp",srcSet:`${a}?width=${s.width}&format=webply&optimize=medium`,media:s.media})))},[]),e.jsxs(e.Fragment,{children:[p&&e.jsxs(e.Fragment,{children:[n.map((s,r)=>e.jsx("link",{rel:"preload",as:"image",href:s.srcSet},r)),e.jsx("link",{rel:"preload",as:"image",href:c})]}),e.jsxs("picture",{children:[n.map((s,r)=>e.jsxs(e.Fragment,{children:[e.jsx("source",{media:s.media,srcSet:s.srcSet},r),e.jsx("source",{media:s.media,type:s.type,srcSet:s.srcSet},r)]})),e.jsx("img",{loading:d?"lazy":"eager",alt:x,width:g,height:f,src:c})]})]})};export{b as I};
//# sourceMappingURL=image.Dd__209U.js.map
