import{r as l,j as e}from"./client.Dzuxdzeo.js";const b=({breakpoints:d=[],lazy:p=!1,preload:u=!1,pictureEl:a,ext:i="webp"})=>{const[n,h]=l.useState([]);if(!a)return null;const t=a.querySelector("img"),c=t==null?void 0:t.getAttribute("src");if(!c)return null;const g=(t==null?void 0:t.getAttribute("alt"))||"",f=(t==null?void 0:t.getAttribute("width"))||0,x=(t==null?void 0:t.getAttribute("height"))||0,w=new URL(c,window.location.href),{pathname:o}=w,m=o.substring(0,o.lastIndexOf(".")),j=`${m}.${i}?width=2048&amp;format=jpeg&amp;optimize=medium`;return l.useEffect(()=>{h(d.map(r=>({type:"image/webp",srcSet:`${m}.${i}?width=${r.width}&format=webply&optimize=medium`,media:r.media})))},[]),e.jsxs(e.Fragment,{children:[u&&e.jsx(e.Fragment,{children:n.map((r,s)=>e.jsx("link",{rel:"preload",as:"image",media:r.media,href:r.srcSet},s))}),e.jsxs("picture",{children:[n.map((r,s)=>e.jsx(e.Fragment,{children:e.jsx("source",{media:r.media,type:r.type,srcSet:r.srcSet},s)})),e.jsx("img",{loading:p?"lazy":"eager",alt:g,width:f,height:x,src:j})]})]})};export{b as I};
//# sourceMappingURL=image.Dn3BGr21.js.map
