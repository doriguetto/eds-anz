import{r as l,j as e}from"./client.Dzuxdzeo.js";const b=({breakpoints:d=[],lazy:h=!1,preload:p=!1,pictureEl:a,ext:i="webp"})=>{const[n,u]=l.useState([]);if(!a)return null;const t=a.querySelector("img"),o=t==null?void 0:t.getAttribute("src");if(!o)return null;const g=(t==null?void 0:t.getAttribute("alt"))||"",f=(t==null?void 0:t.getAttribute("width"))||0,x=(t==null?void 0:t.getAttribute("height"))||0,w=new URL(o,window.location.href),{pathname:c}=w,m=c.substring(0,c.lastIndexOf(".")),j=`${m}.${i}?width=2048&amp;format=jpeg&amp;optimize=medium`;return l.useEffect(()=>{u(d.map(r=>({type:"image/webp",srcSet:`${m}.${i}?width=${r.width}&format=webply&optimize=medium`,media:r.media})))},[]),e.jsxs(e.Fragment,{children:[p&&e.jsx(e.Fragment,{children:n.map((r,s)=>e.jsx("link",{rel:"preload",as:"image",media:r.media,href:r.srcSet},s))}),e.jsxs("picture",{children:[n.map((r,s)=>e.jsx(e.Fragment,{children:e.jsx("source",{height:"auto",media:r.media,type:r.type,srcSet:r.srcSet},s)})),e.jsx("img",{loading:h?"lazy":"eager",alt:g,width:f,height:x,src:j})]})]})};export{b as I};
//# sourceMappingURL=image.CcdI8vHB.js.map
