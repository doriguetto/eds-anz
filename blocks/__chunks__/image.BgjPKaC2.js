import{r as l,j as e}from"./client.Dzuxdzeo.js";const S=({breakpoints:d=[],lazy:p=!1,preload:u=!1,pictureEl:a,ext:i="webp"})=>{const[n,g]=l.useState([]);if(!a)return null;const r=a.querySelector("img"),m=r==null?void 0:r.getAttribute("src");if(!m)return null;const f=(r==null?void 0:r.getAttribute("alt"))||"",h=new URL(m,window.location.href),{pathname:c}=h,o=c.substring(0,c.lastIndexOf(".")),x=`${o}.${i}?width=2048&amp;format=jpeg&amp;optimize=medium`;return l.useEffect(()=>{g(d.map(t=>({type:"image/webp",srcSet:`${o}.${i}?width=${t.width}&format=webply&optimize=medium`,media:t.media})))},[]),e.jsxs(e.Fragment,{children:[u&&e.jsx(e.Fragment,{children:n.map((t,s)=>e.jsx("link",{rel:"preload",as:"image",media:t.media,href:t.srcSet},s))}),e.jsxs("picture",{children:[n.map((t,s)=>e.jsx(e.Fragment,{children:e.jsx("source",{media:t.media,type:t.type,srcSet:t.srcSet},s)})),e.jsx("img",{loading:p?"lazy":"eager",alt:f,src:x})]})]})};export{S as I};
//# sourceMappingURL=image.BgjPKaC2.js.map
