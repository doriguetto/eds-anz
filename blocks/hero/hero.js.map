{"version":3,"file":"hero.js","sources":["../../src/blocks/hero/image.tsx","../../src/blocks/hero/hero.tsx"],"sourcesContent":["import {useEffect} from \"react\";\n\nexport type ImageBreakpoint = {\n    media?: string;\n    width: string;\n};\n\nexport type ImagePreloaderProps = {\n    breakpoints?: ImageBreakpoint[];\n    pictureEl: HTMLPictureElement | null | undefined,\n    eager?: boolean;\n};\n\nconst ImagePreloader = ({ breakpoints = [], eager = false, pictureEl }: ImagePreloaderProps) => {\n\n    if (!pictureEl) return null;\n    const img = pictureEl.querySelector('img')\n    const imgElSrc = img?.getAttribute('src')\n\n    if (!imgElSrc) return null;\n    const alt = img?.getAttribute('alt') || '';\n    const width = img?.getAttribute('width') || 0;\n    const height = img?.getAttribute('height') || 0;\n\n    const url = new URL(imgElSrc, window.location.href);\n    const { pathname } = url;\n    const ext = pathname.substring(pathname.lastIndexOf('.') + 1);\n    const imgSrc = `${pathname}?width=2048&amp;format=jpeg&amp;optimize=medium`\n\n    const sources = breakpoints.map((breakpoint) => {\n        return {\n            type: 'image/webp',\n            srcSet: `${pathname}?width=${breakpoint.width}&format=webply&optimize=medium`,\n            media: breakpoint.media\n        }\n    });\n\n    useEffect(() => {\n        const reactImg = new Image()\n        reactImg.src = `${pathname}?format=${ext}&optimize=medium`;\n    }, []);\n\n    return (\n        <>\n            <link rel=\"preload\" as=\"image\" href={imgSrc}></link>\n            <picture>\n                {sources.map((source, index) => (\n                    <>\n                        <source key={index} media={source.media} srcSet={source.srcSet}/>\n                        <source key={index} media={source.media} type={source.type} srcSet={source.srcSet}/>\n                        {index === sources.length - 1 && (\n                            <img\n                                loading={eager? 'eager' :'lazy'}\n                                alt={alt}\n                                width={width}\n                                height={height}\n                                src={`${pathname}?width=2048&amp;format=jpeg&amp;optimize=medium`}\n                            />\n                        )}\n                    </>\n                ))}\n            </picture>\n        </>\n    );\n};\n\nexport default ImagePreloader;","import {createRoot} from \"react-dom/client\";\nimport './hero.scss';\nimport ImagePreloader, {ImagePreloaderProps} from \"./image.tsx\";\n\nconst Hero = (props: HeroData) => {\n\n    return (\n        <div className=\"hero--container\">\n            <div className=\"hero--control\">\n                <div className=\"hero--control__main\">\n                    <div className=\"invisibleMbox\"\n                         id=\"content-anzcomau-en-personal-navigation-anz_homepage_hero_par-start\">\n                        <div className=\"herocontainer\">\n                            <div className=\"hero--tabs-container\" data-hero-banner=\"false\">\n                                <div className=\"hero--tabs-container__content\" data-ratio=\"25\">\n                                    <div className=\"hero textimage parbase\">\n                                        <div\n                                            className=\"hero hero--fivefourthree-logon hero--stack-columns hero--product padding-bottom--10px padding-top--10px\">\n                                            <div className=\"hero__default\">\n                                                <div className=\"hero-frame\">\n                                                    {props.img &&\n                                                        <div className=\"focuspoint\" data-focus-x=\"0.241\"\n                                                             data-focus-y=\"0.048\"\n                                                             data-image-w=\"2560\" data-image-h=\"1000\">\n                                                            <ImagePreloader {...props.img}/>\n                                                        </div>\n                                                    }\n                                                </div>\n                                                <div className=\"hero__breadcrumb grid\" style={{width: '1164px'}}>\n                                                    <div className=\"extra\">\n                                                        <a href=\"/locations/\"\n                                                           className=\"extra__link locator\"\n                                                           style={{color: '#fff'}}>\n                                                            {/*<span className=\"icon icon_poi\"></span>*/}\n                                                            Find ANZ\n                                                        </a>\n                                                        <a href=\"https://www.anz.com.au/support/\"\n                                                           className=\"extra__link contact-us\"\n                                                           style={{color: '#fff'}}>\n                                                            {/*<span className=\"icon icon_laptop\"></span>*/}\n                                                            Support Centre\n                                                        </a>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div className=\"hero__default hero__info\">\n                                                <div className=\"hero__main\">\n                                                    <div className=\"hero__main__element \">\n                                                        <div className=\"text parbase\">\n                                                            <h1 className=\"alpha \"><span className=\"text--white\">Make life happen with an ANZ Personal Loan</span>\n                                                            </h1>\n                                                            <p style={{paddingTop: '10.0px'}}>New car? Trip of a\n                                                                lifetime?\n                                                                Fairy-tale wedding? Whatever it is you’ve got your heart\n                                                                set on,\n                                                                an ANZ Personal Loan could help you get there.</p>\n                                                            <p style={{paddingTop: '10.0px'}}><a\n                                                                href=\"/personal/personal-loans/?pid=pel-hb-td-hp-08-23-acq-pllifehappen\"\n                                                                className=\"btn btn--white\">Visit ANZ\n                                                                Personal Loans</a></p>\n                                                            <p className=\"paragraph-text--small\"><span\n                                                                className=\"text--white\">All credit applications are subject to ANZ’s credit assessment criteria. T&amp;Cs, fees and charges apply.</span>\n                                                            </p>\n                                                            <p>&nbsp;</p></div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n\n}\n\ntype HeroData = {\n    img?: ImagePreloaderProps\n}\n\nexport default function decorate(block: HTMLDivElement) {\n    const pictureEl = block.querySelector('picture');\n    let img;\n    if (pictureEl) {\n        img = {\n            pictureEl,\n            eager: true,\n            breakpoints: [\n                {media: '(max-width: 800px)', width: '350'},\n                {media: '(max-width: 1140px)', width: '1150'},\n                {media: '(max-width: 3000px)', width: '1593'},\n                {width: '2048'}\n            ]\n        }\n    }\n    const heroData: HeroData = {\n        img\n    }\n\n    // debugger\n    createRoot(block).render(<Hero {...heroData}/>)\n    // debugger\n}"],"names":["ImagePreloader","breakpoints","eager","pictureEl","img","imgElSrc","alt","width","height","url","pathname","ext","imgSrc","sources","breakpoint","useEffect","reactImg","jsxs","Fragment","jsx","source","index","Hero","props","decorate","block","heroData","createRoot"],"mappings":"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"}