{"version":3,"file":"hero.js","sources":["../../src/blocks/hero/image.tsx","../../src/blocks/hero/hero.tsx"],"sourcesContent":["import {useEffect, useState} from \"react\";\n\nexport type ImageBreakpoint = {\n    media?: string;\n    width: string;\n};\n\nexport type ImageSource = {\n    type: string;\n    srcSet: string;\n    media?: string;\n};\n\nexport type ImagePreloaderProps = {\n    breakpoints?: ImageBreakpoint[];\n    pictureEl: HTMLPictureElement | null | undefined,\n    lazy?: boolean;\n    preload?: boolean;\n};\n\nconst ImagePreloader = ({breakpoints = [], lazy = false, preload = false, pictureEl}: ImagePreloaderProps) => {\n    const [sources, setSources] = useState<ImageSource[]>([]);\n    if (!pictureEl) return null;\n    const img = pictureEl.querySelector('img')\n    const imgElSrc = img?.getAttribute('src')\n\n    if (!imgElSrc) return null;\n    const alt = img?.getAttribute('alt') || '';\n    const width = img?.getAttribute('width') || 0;\n    const height = img?.getAttribute('height') || 0;\n\n    const url = new URL(imgElSrc, window.location.href);\n    const {pathname} = url;\n    // const ext = pathname.substring(pathname.lastIndexOf('.') + 1);\n    const imgSrc = `${pathname}?width=2048&amp;format=jpeg&amp;optimize=medium`\n\n\n    useEffect(() => {\n        if (preload) {\n            const reactImg = new Image()\n            reactImg.src = imgSrc;\n        }\n        setSources(breakpoints.map((breakpoint) => {\n            const srcSet = `${pathname}?width=${breakpoint.width}&format=webply&optimize=medium`\n            if (preload) {\n                const reactImg = new Image()\n                reactImg.src = srcSet;\n            }\n            return {\n                type: 'image/webp',\n                srcSet: srcSet,\n                media: breakpoint.media\n            }\n        }))\n    }, []);\n\n    return (\n        <>\n            {preload && (\n                <>\n                    {sources.map((source, index) => (\n                        <link rel=\"preload\" as=\"image\" href={source.srcSet} key={index}></link>\n                    ))}\n                    <link rel=\"preload\" as=\"image\" href={imgSrc}></link>\n                </>\n            )}\n            <picture>\n                {sources.map((source, index) => (\n                    <>\n                        <source key={index} media={source.media} srcSet={source.srcSet}/>\n                        <source key={index} media={source.media} type={source.type} srcSet={source.srcSet}/>\n                        {index === sources.length - 1 && (\n                            <img\n                                loading={lazy ? 'lazy' : 'eager'}\n                                alt={alt}\n                                width={width}\n                                height={height}\n                                src={`${pathname}?width=2048&amp;format=jpeg&amp;optimize=medium`}\n                            />\n                        )}\n                    </>\n                ))}\n            </picture>\n        </>\n    );\n};\n\nexport default ImagePreloader;","import {createRoot} from \"react-dom/client\";\nimport './hero.scss';\nimport ImagePreloader, {ImagePreloaderProps} from \"./image.tsx\";\n\nconst Hero = (props: HeroData) => {\n\n    return (\n        <div className=\"hero--container\">\n            <div className=\"hero--control\">\n                <div className=\"hero--control__main\">\n                    <div className=\"invisibleMbox\"\n                         id=\"content-anzcomau-en-personal-navigation-anz_homepage_hero_par-start\">\n                        <div className=\"herocontainer\">\n                            <div className=\"hero--tabs-container\" data-hero-banner=\"false\">\n                                <div className=\"hero--tabs-container__content\" data-ratio=\"25\">\n                                    <div className=\"hero textimage parbase\">\n                                        <div\n                                            className=\"hero hero--fivefourthree-logon hero--stack-columns hero--product padding-bottom--10px padding-top--10px\">\n                                            <div className=\"hero__default\">\n                                                <div className=\"hero-frame\">\n                                                    {props.img &&\n                                                        <div className=\"focuspoint\" data-focus-x=\"0.241\"\n                                                             data-focus-y=\"0.048\"\n                                                             data-image-w=\"2560\" data-image-h=\"1000\">\n                                                            <ImagePreloader {...props.img}/>\n                                                        </div>\n                                                    }\n                                                </div>\n                                                <div className=\"hero__breadcrumb grid\" style={{width: '1164px'}}>\n                                                    <div className=\"extra\">\n                                                        <a href=\"/locations/\"\n                                                           className=\"extra__link locator\"\n                                                           style={{color: '#fff'}}>\n                                                            {/*<span className=\"icon icon_poi\"></span>*/}\n                                                            Find ANZ\n                                                        </a>\n                                                        <a href=\"https://www.anz.com.au/support/\"\n                                                           className=\"extra__link contact-us\"\n                                                           style={{color: '#fff'}}>\n                                                            {/*<span className=\"icon icon_laptop\"></span>*/}\n                                                            Support Centre\n                                                        </a>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div className=\"hero__default hero__info\">\n                                                <div className=\"hero__main\">\n                                                    <div className=\"hero__main__element \">\n                                                        <div className=\"text parbase\">\n                                                            <h1 className=\"alpha \"><span className=\"text--white\">Make life happen with an ANZ Personal Loan</span>\n                                                            </h1>\n                                                            <p style={{paddingTop: '10.0px'}}>New car? Trip of a\n                                                                lifetime?\n                                                                Fairy-tale wedding? Whatever it is you’ve got your heart\n                                                                set on,\n                                                                an ANZ Personal Loan could help you get there.</p>\n                                                            <p style={{paddingTop: '10.0px'}}><a\n                                                                href=\"/personal/personal-loans/?pid=pel-hb-td-hp-08-23-acq-pllifehappen\"\n                                                                className=\"btn btn--white\">Visit ANZ\n                                                                Personal Loans</a></p>\n                                                            <p className=\"paragraph-text--small\"><span\n                                                                className=\"text--white\">All credit applications are subject to ANZ’s credit assessment criteria. T&amp;Cs, fees and charges apply.</span>\n                                                            </p>\n                                                            <p>&nbsp;</p></div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n\n}\n\ntype HeroData = {\n    img?: ImagePreloaderProps\n}\n\nexport default function decorate(block: HTMLDivElement) {\n    const pictureEl = block.querySelector('picture');\n    let img;\n    if (pictureEl) {\n        img = {\n            pictureEl,\n            preload: true,\n            breakpoints: [\n                {media: '(max-width: 800px)', width: '350'},\n                {media: '(max-width: 1140px)', width: '1150'},\n                {media: '(max-width: 3000px)', width: '1593'},\n                {width: '2048'}\n            ]\n        }\n    }\n    const heroData: HeroData = {\n        img\n    }\n\n    // debugger\n    createRoot(block).render(<Hero {...heroData}/>)\n    // debugger\n}"],"names":["ImagePreloader","breakpoints","lazy","preload","pictureEl","sources","setSources","useState","img","imgElSrc","alt","width","height","url","pathname","imgSrc","useEffect","reactImg","breakpoint","srcSet","jsxs","Fragment","source","index","jsx","Hero","props","decorate","block","heroData","createRoot"],"mappings":"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"}